"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.merge_2_unguaranteed_queries = merge_2_unguaranteed_queries;
const create_guaranteed_query_1 = require("./create_guaranteed_query");
function merge_2_unguaranteed_queries(first, second) {
    return (0, create_guaranteed_query_1.__create_guaranteed_query)({
        'execute': (on_value) => {
            let element_1_is_set = false;
            let element_2_is_set = false;
            let elem1;
            let elem2;
            function wrap_up() {
                if (element_1_is_set && element_2_is_set) {
                    on_value({ first: elem1, second: elem2 });
                }
            }
            first.__start((val) => {
                elem1 = val;
                element_1_is_set = true;
                wrap_up();
            });
            second.__start((val) => {
                elem2 = val;
                element_2_is_set = true;
                wrap_up();
            });
        }
    });
}
